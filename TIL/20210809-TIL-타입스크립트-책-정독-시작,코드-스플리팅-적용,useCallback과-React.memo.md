# 2021년 08월 09일 월요일 TIL(타입스크립트 책 정독 시작, 코드 스플리팅 적용, useCallback과 React.memo)

## 오늘 한 일과 느낀점

### 타입스크립트 책 정독 시작

드디어 타입스크립트 프로그래밍 책을 읽기 시작했다. 산지는... 한 2주 된거 같다. 이번주 목요일부터 매쉬업에서 타입스크립트 스터디를 시작하고 첫 OT를 진행하며 어떤 방향으로 나아갈지를 토론하기로 했다. 그래서 일단 가볍게 타입스크립트 책을 읽으며 느낀점들을 토대로 생각을 해 볼 계획이다.

### 코드 스플리팅 적용

저번에 Enkor.kr에서 light house로 성능 테스트를 하고 Total Blocking Time(이하 TBT)에 대해 관심을 가졌었다. 그리고 도출해낸 결과는 첫 로딩시에 모든 코드를 불러오며 메인쓰레드가 차단되는것 때문에 성능이 저하된다는것이라 페이지별를 로딩할때 그떄그때 필요한 파일들을 받아와주는 코드 스플리팅을 적용하여 개선할 수 있다는 결론도 도출했었다. 하지만 저번에 간략하게 코드스플리팅을 적용하여 개발서버에서만 비교를 해봤는데 오히려 코드스플리팅을 하지 않은 배포환경보다 느리게 나오는것이었다... 그래서 오늘 왜 그런 현상이 일어나는지 알아봤는데 사실 코드 스플리팅 때문에 TBT가 늘어나는것은 아니었고 단순히 개발환경과 배포환경에서의 결과 차이였다. 그래서 조금은 더 신경써서 코드 스플리팅 코드를 검토해준뒤 새로 build를 하고 배포를 하여 테스트를 해보니 확실히 TBT점수가 높아졌다! 원래 240~260ms였던게 90ms로 50%이상의 향상을 보여주게 되었다. 하지만 페이지에 너무 무거운 이미지들이 많아서 아직 초기로딩이 빠른편은 아닌것 같다ㅠㅠ 이런 성능적인 부분을 생각하니 웬만하면 페이지에서 무거운 이미지들을 사용하지 말아야겠다는 생각이 많이 드는것 같다. 혹시 불가피하게 써야한다면 최적화를 꼭 진행해야겠다!

### useCallback과 React.memo

지난 토요일에 매쉬업 웹팀 세미나에서 내가 궁금했던 useCallback과 React.memo를 사용하여 성능을 최적화하는 주제로 테크톡을 나누었고 세미나가 끝나고 한 팀원분이 그거에 [관련된 포스트](https://haragoo30.medium.com/usememo-usecallback%EC%9D%84-%EC%96%B8%EC%A0%9C-%EC%8D%A8%EC%95%BC%EB%90%98%EB%82%98-6a5e6f30f759)를 보내주셔서 오늘 읽어봤다! 근데 제목이 useCallback과 useMemo인데 조금 헷갈리신거 같다. useMemo와 React.memo는 엄연히 다른것이니 혹시 읽게 된다면 혼동이 없길 바란다! 사실... 메모이제이션 패턴으로 최적화를 하는 useCallback과 React.memo에 대한 이해도가 좀 있다면 뻔한 결과가 포스팅에 적혀있지만 직접 테스트해보고 수치를 작성해놓은것이기에 검증용으로 좋은 글이었다고 생각한다.

## 내일 할 일

- Gatsby로 블로그를 만들고 꾸미는법에 대한 공부
- 타입스크립트 프로그래밍 챕터3 타입의 모든것 까지 정독하기!
