# 2021년 05월 28일 목요일 TIL(Devfolio version2 끝)

## 오늘 한 일과 느낀점
- axios를 더욱 편하게 쓰는법에 대해 배웠다. 지금까지는 fetch메서드로 get 이외의 restful한 요청을 할때 객체의 내부에 method라는 프로퍼티로 전달하는게 싫어서 사용한다는 느낌이 강했는데 오늘 리팩토링을 진행하며 모든 요청들에 정말 반복되는 코드가 많이 보였고 제거를 해야겠다고 생각하여 머릿속에 어렴풋이 남아있는 axios에는 baseUrl을 설정하는 기능이 있다는걸 떠올리고 구글링을 시작했다. 그래서 결국은 baseUrl뿐만이 아니라 기본 headers를 설정하여 인증 토큰과 Content-Type을 정의하는 코드의 중복도 모두 제거했다. axios의 create메서드로 axios 인스턴스를 만들어 customAxios를 만드는 방법인데 앞으로 axios를 쓸때는 처음부터 적극 활용하여 생산성을 더 높일 수 있을것 같다.

- 오늘 프로젝트를 마무리하는날인데 역시 작업시간은 생각한 시간의 2.5배로 잡아야된다는걸 마지막 날 또 느꼇다. 지금 새벽4시 인데 사실 날짜로는 마무리하기로 한 날이 지난것이었고 개발이 끝나도 이것에 대한 버그픽스, 검증이 끝나지 않은 이상 끝났다고 할 수 없기 때문이다. 그리고 소프트웨어에서 100% 완벽이란 없기 때문에 실제로 누군가 배포해놓은 애플리케이션을 사용해보고 그 과정에서 일어나는 버그들에 대해 공유해줬으면 싶다. 이런 생각들 때문에 개발을 시작하고 바뀐점은 어떤 서비스를 사용할때 오류나 버그를 공유할것이라고 하면 무조건 동의를 한다는점이다ㅋㅋㅋㅋ

- 데이터베이스를 실제로 다룰땐 백업이 중요하다. DELETE문 쿼리를 잘못 적어 프로젝트 데이터를 모르고 모두 다 날려버렸다. 지금 aws의 프리티어 기간으로 사용하고 있어 다른 서버를 하나 더 개설하는것에 부담이 있는것도 있고 사실 같은 서버에 백업 데이터베이스를 만들면 그만이지만 거기까진 무리였다.... 취업을 하고 실제 서비스 하고있는 프로젝트에 들어가게되면 백엔드 개발자가 어떻게 데이터베이스의 백업을 관리하는지에 대해서도 알고싶었다.

- 관계형 데이터베이스를 앞으로도 쓸 계획이라면 쿼리문의 기초부터 탄탄히 쌓을 필요가 있을것 같다. 이번에 아주 간단한 쿼리들은 당연히 빨리 쓰지만 조금만 복잡해져도 쿼리문을 쓰는데 시간을 꽤 많이 투자한것 같다. 그리고 복잡한 쿼리를 작성하는 시간이 오래 걸리다보니 그냥 node에서 javascript로 꼼수를 써 같은 결과를 도출하게끔 했지만 결국 쿼리문 1번 날리면 될것을 2번, 3번 심지어 많게는 몇십번의 요청이 가는것도 있다. 2, 3번 까지는 괜찮은데 몇십번 이상 데이터베이스에 요청을 하게되는 행위는 좋다고 생각되지는 않는다. 쿼리문을 좀 공부하면 지금 프로젝트에 꼭 리팩토링을 해야할듯싶다. 물론 프론트엔드쪽의 공부를 목적으로 한 프로젝트라 백엔드에 신경을 덜 쓴것도 있지만 지금은 지금이고 리팩토링은 리팩토링이니까.

- version2를 하면서 가장 좋았던 경험은 리팩토링 이었다. 새로운 기능 개발보다도 정말 짜증나고 하기 싫었던 작업이지만 그걸 다 견뎌내고 내가 리팩토링을 완성할 수 있는 능력이 생겼다는것이 가장 기분이 좋았다. 작년에 Spring으로 진행했던 프로젝트는 사실 코드도 너무 별로였고 컨벤션도 정해져있지 않아 코드를 다시 보기도 힘들정도이기도 하지만... 그냥 리팩토링을 한다는 생각을 하긴하지만 거부감이 너무 들어 하지 않았던것 같고 그냥 솔직하게는 하기 싫어서 하지 않았다. 근데 이제는 어떤 프로젝트, 꼭 나의 코드가 아니더라도 Javascript기반의 프로젝트라면 리팩토링을 할 수 있는 능력을 키웠다는 생각이 든다.

## 내일 할 일
- 프로젝트 아주 크리티컬 한 버그가 있는게 아니라면 최종 점검 및 ec2에 배포 (version1에서 version2로 업데이트)

- 블랙커피 스터디 첫번째 미션 시작 (나만의 유튜브 강의실이라는 주제의 토이 프로젝트)