# 패스트캠퍼스 프론트엔드 개발 스쿨 18기 파이널 프로젝트 회고

## 2021년 04월 09일 ~ 2021년 4월 30일 총 22일간의 프로젝트 회고
2020년 7월쯔음 진행했던 Spring프로젝트 이후로 가장 긴 기간 진행했던 프로젝트였다. 그때와 다른점은 그땐 기획, 디자인, 개발까지 계획, 체계가 없었지만 이번 프로젝트는 나름의 체계를 가지고 진행을 했던것 같다.  

### 프로젝트 진행 전
사실 이번 프로젝트가 시작되기 전, 팀원들이 정해지지 않았을때의 나는 정말 자신감이 바닥이었던 상태였다. 지난 2월 쯔음 진행했던 자바스크립트 프로젝트를 비롯하여 중간에 프로그래머스의 데브매칭으로 진행했었던 코딩테스트 등 마음에 들지 않는 결과를 경험했었기 때문이다. 그래서 사실 이번 프로젝트는 학원에서 기획을 진행하여 팀원들을 공개적으로 구하는분들의 팀원으로써 속하고 싶었다. 하지만 학원 특성상 마음대로 팀을 정하기보단 클래스매니저가 나름의 기준을 가지고 팀원을 결정해주었고 결과적으로는 팀원을 모집한 4개의 팀 중 그 어느팀에도 속하지 못하게 되었다. 

### 팀원들이 정해진 후
그 이후 모든 인원들이 팀이 확정됐던게 3월 26일 금요일이었다. 봉철, 수혁과 같은팀이 되었고 둘 다 평소에 친하게 지냈기때문에 좋았던것도 있지만 한편으로는 프로젝트 진행에 있어 그런 부분이 독이 될까봐 조금 걱정이 되기도 했었다. 하지만 결과적으로 평소 사적으로 대하던 모습과 다른 부분도 많았고 앞서 우려했던 부분으로 프로젝트에 차질이 생기거나 하진 않았었다. 그렇게 프로젝트가 시작되었고 정식적으로 얘기한적은 없지만 조금 자연스럽게 github저장소 관리 및 데일리 스크럼 회의록을 관리하는 팀장을 맡게 되었다.

### 기획 단계
프로젝트 진행 전에 자신감이 바닥이었다고 했는데 그 이유중에 하나가 나 자신이 기획에 대한 부족함이 있다고 생각했기 때문이다. 현재 개발을 공부하고 있고 파이널 프로젝트 전 진행했던 3개의 프로젝트 중 2개의 프로젝트는 팀장의 역할을 맡았고 그때마다 좋은 아이디어를 생각해내고 주제를 정하여 팀을 좋은 방향으로 이끌어 나가는게 나에게는 항상 힘들었던것도 같다. 물론 기획뿐 아니라 깔끔하고 보기 좋은 디자인에 대한 고민도 컷었다.  
그렇게 자신감 없이 시작한 기획단계, 일단 앞서 부족하다고 한 부분에 대한 부재를 조금이라도 메우기 위해 아이디어나 디자인을 참고할 수 있는 레퍼런스를 정했다. 요즘 많이 이용하고 있는 velog가 그 레퍼런스였고 타겟은 동일하게 개발자이지만 서비스는 블로그가 아니라 조금 주제를 좁혀 프로젝트를 등록하고 그 등록한 프로젝트들을 기반으로 본인만의 포트폴리오르 만들 수 있는 Devfolio라는 애플리케이션을 기획하게 되었다. 디자인은 홈페이지는 거의 동일하게 figma로 시안을 만들었고 거기에 파생하여 프로젝트 등록, 조회, 포트폴리오 조회, 수정 페이지를 디자인 하였고 첫 주차에 나름 만족스러운 기획과 디자인이 나오게 되었다.

### 프로젝트 시작
기획과 디자인이 모두 완료된 후 본격적으로 개발이 시작되었다. 이번엔 요즘 소프트웨어 개발팀에서 많이 사용되고 있는 애자일 방법론을 적용시켜 스크럼 방식으로 프로젝트를 진행하기로 했다. 그래서 총 3주를 3개의 스프린트로 나누어 진행하기로 했고 첫번째 스프린트의 회의를 진행하며 각자 이번 프로젝트에서의 목표를 설정했다.

- 하준 - 결과보다는 과정, 기술적 부채를 남기며 작업하지 않으며 개발하는 습관을 키우는것
- 봉철 - 단순 토이 프로젝트가 아닌 팀원들과의 협업과정을 문서로 남기며 체계적인 작업방식으로 일해보는것
- 수혁 - 그냥 아무 프로젝트에서 사용하는 CSS스타일링이나 보여지는것 이외에 접근성 및 클린코드를 고려해보는것

이렇게 각자의 가장 큰 목표를 설정하여 wiki에 문서화를 해놓았고 초심을 잃을때마다 이 목표를 보고 다시 초심으로 돌아가자는 생각을 가졌었다. 

### 기억에 남는 이슈

#### StyledComponents
StyledComponents를 사용하며 같은 컴포넌트를 스타일링만 다르게 해야할때 css속성값을 props로 받는 경우가 비일비재 했었다. 그런데 props의 이름을 css속성명과 같게 전달을 하니 부작용이 있었다. 바로 DOM요소에 있는 HTML태그에 어트리뷰트로써 그대로 나타나게 된다는것이었다. 모든게 그런것은 아니었으나 아주 자주 사용하는 color, width, height등 대부분의 스타일 요소가 그런 이슈를 일으켰다. 이건 표준에 어긋나는 마크업이 되는것이고 hotfix를 진행해야되는 상황이라고 생각했다. 해결은 그냥 간단히 props 이름앞에 달러표시`$`를 붙혀주어 해결을 했다. 다행히 초반부에 발견해서 수습이 비교적 쉬웠지만 만약 프로젝트의 후반부에 발견됐다면 정말 상상도 하기 싫었을 이슈였을것 같다.

#### 스토리북 Decorator
이번 프로젝트에서 스토리북을 이용하여 CDD방식으로 개발을 진행해봤다. 그런데 스토리북은 현재 애플리케이션에 쓰이는 컴포넌트들을 테스트 하는 용도로 사용하는것이지만 테스트가 되는 환경은 React 애플리케이션과는 완전히 다른 개별적인 Storybook 애플리케이션이었기 때문에 설정값이나 상태를 공유하지 못하는 이슈가 종종 있었다. 처음에는 이것을 모르고 왜 안되는지 헤매었던것 같은데 나름 스토리북의 공식문서를 살펴보니 preview.js에 redux provider를 추가하거나 preview-head.html에 전역 css속성을 적용해주는 방식등으로 해결할 수 있었다. 그리고 StyledComponents로 생성한 컴포넌트를 바로 사용할때 Description이 표시되지 않는 이슈도 있었어서 StyledComponents를 일반 컴포넌의 return값으로 하여 사용하는 방식으로 해결하였다.

#### figma로 export한 SVG파일의 pattern
프로젝트에서는 SVGIcon을 사용할 일이 매우 많았었다. 그래서 하나의 컴포넌트에서 switch문으로 type props를 받아 렌더링해주는 코드를 작성했었는데 몇가지를 제외한 모든 SVGIcon이 같은 이미지로 렌더링되는 이슈가 있었다. 처음엔 로직의 오류 또는 오타를 의심했었는데 결론은 원래 SVGIcon이 아니었던 이미지들을 figma로 불러들여 강제로 SVGIcon으로 내보내기를 하면 pattern이라는 속성들이 파일코드에 포함되어 나오게 되었는데 그것들이 마치 id처럼 1, 2이런 숫자값을 가지고 내보내기가 되는데 그것들이 모두 같은 id인 1을 가지고 있었다. 그래서 그 pattern값을 변경해주니 해결이 되었었지만 문제의 소지가 될 것 같아 figma로 SVGIcon 내보내기를 하지 않고 따로 구글링을 하여 SVGIcon을 새로 넣어주어 해결하였다.

#### window.innerWidth, innerHeight를 이용한 반응형 레이아웃의 부작용
반응형 프로젝트를 혼자 설계하고 진행해본것이 이번 프로젝트가 처음이었다. 그래서 처음에 어떻게 레이아웃을 잡고 미디어쿼리를 사용해야하는지 감이 오지 않았다. 그때 생각난것이 리액트 강의에서 야무 강사님이 useDetectViewport라는 커스텀 훅을 만들어 반응형 레이아웃을 작업하신 기억이 났고 그것을 이 프로젝트의 성질에 맞게 조금 변경해보았다. 변경한 훅은 뷰포트에 따라서 상태를 반환하는데 xs(480 미만), s(480 이상 768 미만), m(768 이상 1024 미만), l(1024 이상 1440 미만), xl(1440이상)라는 문자열과 isMobile, isDesktop이라는 boolean값 조금 더 자유도를 주기 위해 vh, vw값을 number값으로 반환하게끔 만들었다. 사실상 처음엔 이렇게 하면 미디어쿼리를 사용하지 않고도 React에서 props를 이용하여 반응형 작업을 할 수 있었기 때문에 아주 나이스한 방법이라는 생각이 들었었다. 하지만 이 상태는 초기값을 가지고 있었고 만약 애플리케이션이 처음 켜지거나 새로고침을 했을시에는 그 초기값에 반응하여 체감상 0.1 ~ 0.3초 가량 레이아웃이 정상적으로 잡히지 않는것이 눈에 보였다. 그럼 초기값을 바꿔서 해결할 수 있다고 생각도 했었는데 만약 초기값을 데스크탑을 기준으로 잡아놓는다고 하면 모바일에서 똑같은 이슈가 발생 할 것이었다. 그래서 결국 심각하게 눈에 거슬리는것들은 useDetectViewport의 상태값을 걷어내고 media쿼리를 적용시켰더니 깔끔하게 해결이 됐었다. 웬만하면 반응형 작업을 할땐 media쿼리를 적극 이용하되 만약 상태에 따라 조건부 렌더링을 해야하는 상황이라면 미디어 쿼리만으로는 한계가 있으니 이번 프로젝트처럼 useDetectViewport를 적절히 사용해주는 방법을 이용하면 될 것 같다.

#### 라이브러리를 사용할때 컴포넌트에 CSS가 일반적인 방법으로는 적용되지 않는 이슈
이건 사실 프로젝트 진행전에도 SementicUI를 사용하며 경험했던 것인데 라이브러리에서 기본적으로 적용시켜놓은 Style이 존재하여 이것을 애플리케이션의 레이아웃에 맞게 변경시켜주고 싶지만 일반적인 방법으로는 적용이 되지 않는 이슈였다. 이유는 간단히 CSS우선권때문이었는데 class를 3개 중첩시켜 스타일을 적용시켜놨다면 그것을 위해 `&&&& {}`같은 문법을 사용하거나 inline style을 적용시켜놨다면 `!important`를 사용해야 했었는데 아마 어떤 개발자여도 저런 코드를 작성하는게 썩 달갑지는 않을것이다. 특히 inline style보다 우선권을 가지기 위한 방법은 정말 그 라이브러리를 사용하기 싫을정도가 될 수도 있을것 같다. 

