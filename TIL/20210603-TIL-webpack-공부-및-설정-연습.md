# 2021년 06월 03일 목요일 TIL(webpack 공부 및 설정 연습)

## 오늘 한 일과 느낀점
- 오늘 원래 하려는 목표는 간단히 webpack과 babel을 이용하여 프로젝트의 설정을 하는것이었다. 근데 이제 webpack으로 프로젝트 설정을 하는것이 3번째인가 그런것 같은데 사실 복붙하는거지 뭘 설정하는건지 잘 몰랐다. 심지어 `__dirname`이 뭐하는 변수인지도 몰랐다. 그래서 패스트캠퍼스 인강에 수록되어있는 webpack 강의를 들으며 메모하고 직접 설정도 해보았다. 일단 `__dirname`은 해당 변수를 쓴 파일의 절대경로를 반환해주는 변수이다. 그리고 node의 빌트인 모듈인 path같은 경우도 여러가지 메서드가 있는데 resolve같은 경우는 인자로 전달한 문자열들 사이에 `/`를 붙혀 합친 다음 반환해주는 함수라고 한다.  

- style-loader와 mini-css-extract-plugin의 차이에 대해서도 알게 되었다. 일단 mini-css-extract-plugin은 청크파일에서 따로 css파일을 분리해내는것므로 개발과정에서는 굳이 파일을 따로 만들기보단 style-loader를 이용해 바로바로 바뀐 코드들을 style태그 내부에 주입해주는것이 효율적인것이다. 정리하자면 개발을 할땐 style-loader, 배포할땐 mini-css-extract-plugin을 사용하는게 효율적이라는것이다.  

- 캐싱에 대한것도 배웠다. 일단 캐싱은 리소스를 기준으로 하게된다. 즉, 파일의 이름이 변경되어야 리소스가 변경된걸로 인식하고 변경을 해준다. 그래서 build를 할때 hash값을 이용하여 번들 파일의 이름을 지정해주는데 이때 hash의 타입이 3가지가 있었다. `hash`, `contenthash`, `chunkhash`인데 아직 깊게 이해하지는 못했고 hash는 build가 될때 파일 내용에 변경이 있다면 `hash`값으로 지정된것들은 무조건 바뀌게 되고 `contenthash는` content를 기준으로 변경을 감지하고 hash를 업데이트 해준다. 그리고 `chunkhash는` 최적화를 위해 쓰는 방법인데 하나의 chunk파일에서 변경이 적은 코드들의 묶음으로 chunk를 나누어 hash값을 지정해주는것이고 결국 그 청크 파일들은 캐싱되고나서 변경될 일이 잘 없을것이고 실제로 변경이 될 코드들을 담고 있는 파일만이 hash값이 변하며 배포시에 변경이 될 것이다. 그럼 유저의 입장에서는 변화가 없는 파일들에 대해서는 캐시에서 가져다쓰고 실제 변경된 파일만 다시 서버에서 받아 사용하게 되어 데이터를 받아 렌더링되는 시간 자체가 줄어들것이기 때문에 사용자 경험이 향상될 수 있을것이다.

## 내일 할 일
- webpack 인강 끝까지 들으며 열심히 메모하기  

- webpack 공부한것에 대해 따로 포스팅을 하여 나중에도 잘 가져다 쓸 수 있게하기 (이걸 꼭 해야하는 이유는 webpack은 설정할 수 있는 자유도가 매우 높기때문에 일일히 외우고 할 수가 없다. 근데 결국 내가 자주 쓰는것들을 문서화 해놓으면 다음 설정때는 써놓은 글에서 쏙쏙 뽑아 빠른 설정을 할 수 있을것이다!)  

- 지하철 노선도 프로젝트 설정 마치고 commit


