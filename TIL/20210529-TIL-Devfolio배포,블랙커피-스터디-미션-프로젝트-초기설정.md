# 2021년 05월 29일 토요일 TIL(Devfolio배포, 블랙커피 스터디 미션 프로젝트 초기설정)

## 오늘 한 일과 느낀점
- Devfolio의 전체적인 기능들과 UI를 체크하고 조금 어색하거나 부족한 부분들을 수정하고 최종적으로 main branch로 병합 후, build파일을 만들어 ec2에서 NginX를 통해 배포해놨던 version1을 version2로 업데이트 하였다. 정말 100% 완벽한 소프트웨어가 없고 버그가 없는 프로그램이 없다는말은 이젠 당연하고 리팩토링을 해도 해도 끝이 없다는말도 맞는말이라고 깨달았다. 배포를 하려고 자꾸 코드를 하나하나 고치다보니 크게 구조 자체를 다 바꿔버리고 싶은것도 보였고 짜잘하게 계속 바꾸고 싶은것들이 보였다. 일단 기본적으로 보통 개발자들이 본인의 코드에는 남의 코드를 볼때(리뷰를 할때)보다는 관대해지는거 같아서 그런것도 있는것 같다. 프로젝트를 진행하며 모든 코드에 대해 리뷰를 진행한다면 이런부분이 나아지겠지만 생산성 측면으로 봤을땐 아주 나이스한 행동은 아닌거 같고 사실 좋은 코드가 존재해도 그 좋다는것에 정답이 없기때문에 일일히 모든 코드를 리뷰하면 각자 개발자만의 주관이 있는 코드들에 대해 논의하는것은 역효과가 날 수도 있을것 같다. 그래서 보통 정말 실제 서비스를 릴리즈 하는 시간을 위하여 생산성을 가장 우선시하여 개발을 하되 나중에 리팩토링하는 방식이 적용이 되는것 같다.

- 블랙커피 스터디에서 진행하는 나만의 유튜브 강의실 미션 1단계를 시작했다. 유튜브 API는 수요일날 발급만 받아놓고 오늘 공식문서를 천천히 읽으며 검색하는 라우트인 search에 공부를 했다. 정말 Devfolio를 하며 많이 성장했다고 느끼는것은 그냥... 기술적 부채를 남기지 말자는 목적을 가지고 프로젝트에 임했다보니까 기술적 부채를 남기는 이유는 별 이유없이 그냥 귀찮고 힘든일을 지금 당장 하기 싫어서 그런것이라고 생각을 하는데 API 문서같은것들이 그런 부류인것 같다. 그냥 아주 얕게 내가 사용해야하는 부분만 공식문서가 아닌 구글링을 통해 지식을 터득하고 사용하고 또 필요한 기능이 있으면 그때 알아보고 사용하고... 물론 이게 잘못됐단건 아니지만 단점은 분명 존재하는것 같다. API의 모든 option들에 대해 알고 있다면 프로젝트의 설계를 당연히 처음에 더 잘 할수 있다고 생각이 된다. 항상 많은 시간이 소요되는 리팩토링 작업은 처음에 설계 미스로 인한 구조를 완전히 변경하는 리팩토링인것 같다.

- 유튜브 API가 정상적으로 불러와지는것을 확인하고 프로젝트의 구조를 짜며 parcel을 번들러로 사용했는데 parcel에서는 기본적으로 async, await를 사용할 수 없어서 babel polifil을 설치하거나 plugin transform runtime이라는 플러그인을 설치해야했는데 후자를 설치하여 해결하였다. 근데 원래 root경로에 .babelrc 파일이 있으면 번들링할때 자동으로 그 플러그인 패키지가 설치되는걸로 아는데 설치가 되지 않아 npm i 로 직접 설치해줬던 이슈가 있었다.

- import문도 나중에 편하기 위해 절대경로를 사용하려고 했는데 parcel자체가 non configuration bundler이다보니 내가 커스터마이징 하기가 힘들었다. 이 부분은 분명히 parcel의 단점인것 같다. 결론은 jsconfig.json파일도 만들어보고 .flowconfig라는 파일도 만들어보고 했는데 적용이 잘 되지 않아 이것 또한 babel에서 지원하는 module-resolver를 사용하여 해결하였다. 근데 이 플러그인을 사용하여 import했다는걸 eslint에게 알려주어 서포트를 받아야하는데 그 작업은 아무리해도 잘 안되어 그냥 .eslintrc.json파일에 `"import/no-unresolved": "off",` 이 구문을 추가해주어 해결해주었지만 기술적부채를 남기게 된것 같아서 그냥... 좀 찝찝하다.


## 내일 할 일
- 나만의 유뷰트 강의실 미션 1단계 남은 요구사항 수행
  - 유튜브 검색 API를 통해서, 내가 추가로 보고 싶은 영상들을 검색할 수 있다.
    - 검색 시 엔터키를 눌렀을 때와 마우스로 검색 버튼을 눌렀을 때 검색 동작이 이루어진다.
  - 로딩 컴포넌트: 데이터를 불러오는 중일 때, 현재 데이터를 불러오는 중임을 skeleton UI로 보여준다.
  - 검색 결과가 없는 경우 결과 없음 이미지를 추가하여, 사용자에게 메시지를 보여준다.
    - 검색 결과 없음 이미지는 src/images/status/not_found.png 경로에 있다.
  - 최초 검색 결과는 10개까지만 보여준다. 더 많은 데이터는 스크롤을 내릴 때 추가로 불러온다.
    - 검색 결과 화면에서 유저가 브라우저 스크롤 바를 끝까지 이동시켰을 경우, 그다음 10개 아이템을 추가로 api요청하여 불러온다.
  - 내가 검색한 영상들의 json 데이터를 저장할 수 있다. (실제 저장이 아닌 영상 id를 Web Storage에 저장). 단 이미 저장된 경우는 저장 버튼이 보이지 않게 한다.
  - 저장 가능한 최대 동영상의 갯수는 100개이다.
  - 검색 모달에 다시 접근했을 때 가장 마지막에 검색한 키워드로 검색한 결과를 보여준다.
  - 최근 검색 키워드를 3개까지 화면상에 검색창 하단에 보여준다.