# 2021년 05월 17일 월요일 TIL(댓글 테이블 설계 및 변경, JS 계산기 예제)

## 오늘 한 일과 느낀점
- Devfolio의 프로젝트 조회페이지의 대댓글 기능을 구현하기 위해 테이블을 설계하고 기존 테이블 컬럼들을 변경해주었다. 일단은 당연히 pk가 있고 댓글의 내용을 담을 수 있는 contents라는 컬럼이 존재하고 대댓글 기능을 위한 컬럼과 외래키, 삭제 여부를 알 수 있는 컬럼이 존재한다. 풀어서 작성해보자면 아래와 같다.  

```
comment_id int (pk)
contents varchar(300) 댓글 내용)
parent int (대댓글이 가져야하는 부모 요소의 pk)
seq int (댓글의 순서, 정확히는 parent가 같은 대댓글의 순서를 결정)
created datetime (댓글 작성 날짜와 시간)
project_project_id int (어떤 프로젝트의 댓글인지 외래키)
user_user_id int (어떤 유저가 쓴 댓글인지 외래키)
is_deleted (삭제가 된 댓글인지 판단하는 boolean 타입 컬럼)
```

이렇게 테이블 구조를 작성하였고 대댓글 까지만 허용하고 대대댓글 이상은 막을것이기 때문에 depth컬럼은 따로 만들지 않았다. 일단 아직 구현전이기 때문에 메모장에 적으며 로직을 구상하고 있는데 변수가 생기면 구현을 하며 유연하게 대처해야 할 수도 있을것 같다.

- 댓글 기능을 구현하던중 오랜만에 바닐라 JS로 된 계산기 예제를 발견하여 1시간정도 투자하여 코드를 작성해보았다. 확실히 리액트로 상태를 가지고 값을 관리했을땐 어느정도 정해진 방법으로 코딩을 했다는 느낌이 있었는데 JS는 정말 갑자기 DOM요소에 접근하여 값을 가져와야하고 리팩토링을 하거나 코드를 신경써서 작성하지 않으면 중복되는 코드가 많이 생긴다는 느낌이 들었다. 코딩테스트나 과제를 수행할때 바닐라 JS를 많이 이용해야 할 것 같은데 무뎌지지 않게 꾸준히 JS코드도 작성을 해봐야 할 것 같다.

## 내일 할 일 
- Devfolio의 대댓글 기능 완성
- 프로젝트 조회 페이지의 무한스크롤을 어떤 방식으로 구현할지 구상
