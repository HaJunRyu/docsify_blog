# 2021년 06월 09일 수요일 TIL(블랙커피 스터디 두번째 온라인 세션)

## 오늘 한 일과 느낀점
- 오늘 오후 8시 블랙커피 스터디 온라인 세션이 있었다. 오늘 점심시간까지 Stations페이지와 Lines페이지의 기능을 완성하지 못했다는건 나의 속도로 당연히 나머지 요구사항을 완성을 못할게 뻔했고 오늘 뭔가 되게 부랴부랴 벼락치기 공부를 하듯 개발을 했던것 같다. 그래도 IIFE를 사용하며 state를 관리하며 불편한점, 왜 전역상태가 있어야하고 그것을 하나의 컴포넌트가 바라보게 하여 그 상태를 참조하고 있는 컴포넌트만 리렌더링이 일어나야 하는지에 대한 생각도 하게 되었던것 같다. 아직 프론트엔드 프레임워크를 react밖에 써보지 않았지만 점유율, 만족도면에서 높은 이유를 알았고 이제는 `와 저런 기능이 이렇게 함수 하나로 구현이돼?` 라는 생각이 드는것 같다. 그냥 사실 너무 편하지 않은가. useEffect또는 ComponentDidMount등의 함수를 이용하여 비동기 처리, 클린업까지 할 수 있다는것... 오늘 다른분들은 상태가 변화 된 컴포넌트만 리렌더링 하게끔 코드를 작성하신분들도 계신것 같은데 사실 아직 가상돔이나 diff등을 직접 구현하기에는 내가 너무 부족하다는 생각이 든다. 물론 그러니까 공부해야하고 공부하며 실패도 많이 겪어봐야 느는것이라고 생각한다. 일단 Observer패턴에 대해 알아보려고 한다. 그리고 주문해놓은 `프레임워크 없는 프론트엔드 개발` 책을 읽고 생각의 폭을 넓혀가야겠다.

- 개발을 하며 IIFE를 async로 만들어야하는 경우가 생겼었는데 이때 정말 처음 작성해보는 코드가 나왔다. 내가 작성한 IIFE는 함수를 return하는 IIFE이다. 그리고 그 return하는 함수로 async였다. 그랬더니 그냥 `await 함수명()`을 하게되니 이 함수명은 함수가 아니라는 에러메세지와 함께 애플리케이션이 렌더링되지 않았다. 그래서 일단 나를 의심했다. IIFE를 오타를 낸게 분명하다... 하면서 지웠다 다시 썻다를 반복했는데 결국 해결이 되지 않았고 console을 찍는등 디버깅을 하다가 안 결과는 IIFE가 promise를 반환했기 때문에 `const foo = awiat 함수명`을 하여 (물론 저것도 async함수 내부에서 해야한다.) 그 후에 `await foo()`를 해야 되는것이다. 줄여서 `await (await foo)()` 이렇게 작성해주긴 했는데 promiseResult가 또 promise를 return하는 함수를 가지고 있기 때문에 발생한 현상이었던것 같다. 다음엔 이런 패턴을 보게되도 금방 해결할 수 있을것 같다.

## 내일 할 일
- 오늘 부랴부랴 진행하다 끝났던 Lines 페이지의 기능 구현

- 리뷰 받았던 내용을 기반으로 리팩토링 하기

- Observe 패턴에 대해 공부하기
