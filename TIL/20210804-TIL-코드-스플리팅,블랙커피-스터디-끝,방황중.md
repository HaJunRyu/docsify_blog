# 2021년 08월 04일 수요일 TIL(코드 스플리팅, 블랙커피 스터디 끝, 방황중)

## 오늘 한 일과 느낀점

### 코드 스플리팅

현재 Enkor에 한달동안 근무하며 태스크를 받고있는데 사실 내가 성장할만한 태스크를 받은적이 없었다. html구조를 바꾸고 css를 수정하는... 물론 이게 하찮다는것은 아니지만 그래도 내가 원하는 개발자로써의 근무는 일을 하며 새로운 기술들을 자연스레 익혀나가는것이다. 그리고 오늘 처음 그런 비슷한 태스크를 받게되었다. 현재 Enkor의 Customer 서비스가 next js로 만들어졌는데 초기 로딩속도가 늦다는것이다... SSR의 장점 두가지를 크게 꼽자면 CSR보다 빠른 초기 로딩 속도, 그리고 SEO이다. 사실 Enkor라는 서비스가 외국인들을 위한 서비스라서 내가 직접 검색해서 찾을 일이 없기 때문에 SEO가 잘 되어있는지는 테스트하지 못했지만 lighthouse를 통해서 성능, SEO를 측정한 결과 성능이 너무 낮게 측정이 되고 SEO는 준수하게 측정이 되었다. 그리고 성능결과에서 항목들을 보니까 결국은 초기 로딩속도가 느려서 점수가 많이 하락이 되었는데 사실 현재 SSR에 대한 이해도가 많이 부족해서 무작정 react프로젝트에서 초기 로딩속도를 높이는 방법에 대해 알아보았고 코드 스플리팅을 하는 포스트를 많이 보고 예전에 진행했던 프로젝트인 Devfolio에 적용시켜봤다. 음... 그런데 점수 향상이 있긴했지만 그렇게 큰 향상은 없었다. 초기 로딩 속도 자체는 줄었지만 Total Blocking Time이 코드 스플리팅을 하니 갑자기 늘어나서 그랬었는데 이 이유는 아직 알지 못했다. 그리고 next js에도 같은 방법을 적용하려고 하니 일단 Devfolio에서는 라우트 별로 코드 스플리팅을 해주었는데 next js의 라우팅 방식은 react-router와 좀 달라서 페이지 컴포넌트를 lazy 로딩하는것이 아니라 그냥 pages라는 폴더 안에 파일을 만들면 그 파일명이 라우트의 path가 되는것이라 적용을 하진 못했다. 사실 찾다보면 next js는 코드 스플리팅을 자동으로 지원해준다는데 그럼 일반적인 리액트처럼 작업을 해주지 않아도 자동으로 되는것인지? 를 잘 모르겠다. 근데 회사에서 코드 스플리팅을 해보라고 시켯는데 만약 자동으로 된다면 이것을 왜 시켯을까... 하는 생각도 들고 아무튼 평소에 잘 생각하지 못했던 리액트 프로젝트의 성능 최적화에 대해 관심을 가지게 된 것만으로도 오늘은 새로운 영역에 또 발을 들인것 같다는 느낌이 든다.

### 블랙커피 스터디 끝

블랙커피 스터디를 접하게 된지도 벌써 2달이 넘었다. 처음에는 조금 급하여 합류하게 되어 Level3 1기로 참여하게 됐었고 많은 어려움을 겪었었다. 프레임워크 없이 vanila JS로 애플리케이션을 만든다는게 쉽지 않다는것을 직접 부딪히며 깨달으며 react의 위대함을 깨닫는 시간이었다는 생각이 든다. 물론 vanila JS로 리액트와 비슷한 방식으로 개발하게끔 만들 수 있겠지만 당연히 CRA처럼 나이스 한 보일러플레이트가 없고 diff알고리즘이나 render메서드도 직접 작성해주어야 하기 때문에 시간적 비용도 더 들 뿐더러 성능도 react와 비교하면 형편없을것이다. 하지만 그래도 JS만으로 애플리케이션을 개발하는 미션을 진행하며 상호간의 코드 리뷰를 하는것이 이 스터디의 목적이었고 1기때 고생한것을 떠올리며 2기의 시작과 함께 `프레임워크 없는 프론트엔드 개발`이라는 책을 구매해서 읽고 적용시켜 보았다. 실제 리액트, 리덕스등의 라이브러리 오픈소스를 소개하는것은 아니었지만 거의 흡사하게 JS로 그러한 동작을 하는 코드를 소개했다. 하지만 저자가 반응형 프로그래밍, 함수형 프로그래밍 방식을 매우 좋아했고 실제 코드도 그렇게 작성이 되어있어서 처음에는 정말 이해가 전혀 되지 않아서 힘들었던 기억이 난다. 그리고 나의 목적은 그 책을 보지않고도 그러한 개발을 할 수 있는 나만의 코드를 작성하는것이라 참고를 하며 모든것이 함수형 프로그래밍 방식이 아닌 나만의 코드를 만들었고 스터디의 미션에 적용시켜보았다. 결과는 너무 성공적이었고(복잡도가 기하급수적으로 상승했던 1기 미션때와 비교했을때) 어디서든 하나의 상태객체에 접근하고 그 상태객체를 업데이트 하는식으로 복잡도는 리니어하게 상승하며 애플케이션을 온전히 내 마음대로 컨트롤하며 개발할 수 있는 경험을 했었다. 실제로는 이것보다 성능이나 유지보수성이 뛰어난 react를 사용하겠지만 이런 프레임워크들의 내부적인 동작(얕게나마)이나 필요성을 알게 된것만으로도 이번 스터디는 정말 값졌다는 생각이 든다. 그리고 이번 마지막 세션은 cypress를 이용한 E2E테스트 코드를 작성해봤는데 막 공부를 하여 테스트코드를 작성할 줄 알게된건 아니지만 테스트코드의 개념정도는 알게된것 같아 이것도 나름의 수확인것 같다는 생각이 든다. 물론 이번 3레벨 2기가 끝난것이고 앞으로도 블랙커피 스터디의 Level2인 테스트 코드작성, 그리고 블로그 스터디도 참여 할 생각이 있다. 특히 꾸준히 글을 쓰는 습관을 들이고 싶다는 생각이 오늘 들었었기 때문에 블로그 스터디는 꼭 참여를 하고 싶다.

### 방황중

오늘 TIL은 왠지 좀 다른날보다 구구절절 말이 많은것 같다. 사실 패스트캠퍼스에서 같이 공부하셨던분들이 다 취업을 할때 난 하지 않은 이유는 사실 좀 귀찮아서 그랬던것도 있는것 같다. 뭔가 지금은 아직 일적으로 개발을 하고싶기보단 그냥 내가 하고싶은 개발을 하고싶다... 근데 그게 힘들었던건 어디에 소속되어있지 않다보니 나만의 의지로 아침에 일어나서 공부를 하고 밤에 자는 이런 규칙적인 루틴을 지키기가 너무 힘들었고 결국 하루에 실제로 공부하는 시간이 현저히 줄어들었던것 같다. 그러던 중 기회가 되어 한달정도 짧게 개발일을 할 수 있게 되어 지금 하고있는데... 뭔가 내가 생각했던거랑은 너무 다르긴하다. 일단 태스크를 잘 주지 않아서 일하는 시간 중간중간에 시간이 많이 뜬다. 사실 내가 이 회사에서 몇개월정도 일하며 업무를 많이 파악을 했다면 태스크를 내려주지 않아도 알아서 할 일을 찾아서 할 수 있겠지만 레거시 한 코드도 많은 환경에서 태스크를 주지 않는다면 뭐 해야할지 모르는게 당연한거 같다... 그리고 확실히 회사에서 일을 하는 시간을 제외하고 공부를 하려고 하면 그 시간 또한 온전히 부트캠프에서 공부할때보다 적은게 사실이다. 오늘도 7시에 퇴근하고 8시부터 10시까지 블랙커피 스터디를 하고 30분정도 쉬다가 지금 시간인 새벽 3시까지 공부를 했는데 절대적인 시간은 4시간 반 정도밖에 사용하지 못한것이다. 그리고 지금 혼자 하는 공부에서 방황을 많이 하는것 같다. 왜냐면 Typescript도 공부하고 싶고 next js도 공부하고 싶고 test 코드도 공부하고 싶은데 Typescript는 정말 필요하기도 하고 하고싶은 공부, next js는 지금 일하는 회사에서 필요로 해서 하는 공부, test 코드는 아직까지 정말 필요하다는걸 못느끼겟지만 공부는 해보고싶은... 그리고 결국에는 해야할것만 같은 느낌떄문에 여러가지를 신경쓰다보니 진득하게 무언가를 파지 못하고 있는것 같다. 이제 매쉬업에서도 스터디를 시작하는데 이 계기를 통해서 다시 내가 방향성을 찾았으면 좋겠다. 오늘은 유난히 두서없이 끄적인 글이 많은것 같은 느낌이다...

## 내일 할 일

- next js의 코드 스플리팅 방식에 대해 알아보기
- lighthouse의 Total Blocking Time에 대해 알아보기 (어떤것에 영향을 받는지)
- `함께 자라기` 책 구매
- 타입스크립트 프로그래밍 책 2장 3,000미터 상공에서 타입스크립트 바라보기 챕터 모두 읽기
