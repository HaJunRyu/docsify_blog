# 2021년 07월 09일 금요일 TIL(타입 단언, 타입 가드)

## 오늘 한 일과 느낀점

### 타입 단언

헤로피님의 타입스크립트 정리글과 타입스크립트 공식문서 한글번역판을 보며 기본 개념에 더 집중하고있다. 타입단언도 그냥 막연히 타입스크립트를 사용하며 몇번 사용해보기는 했다. 보통 as를 통해 사용했으며 타 언어의 타입캐스팅? 과 비슷하다고 생각은 했지만 무언가 더 간결했다. 그리고 오늘 그런 느낌을 받은 이유에 대해 깨달았다. 타입스크립트는 어차피 자바스크립트로 컴파일 되는데 자바스크립트는 동적 타이핑을 지원한다.그렇기때문에 타입 단언은 컴파일러에게 그냥 이 값에 대한 타입은 내가(개발자가) 더 잘 알아~ 라고 알려주는것과 같다는것이다. 그래서 실제로 내부적으로 타입캐스팅이 일어나거나 하지는 않는다고한다. 그리고 타입스크립트를 쓰며 타입단언때문에 가독성이 안좋아진다고 느낄때가 종종 있었는데 이것을 Nullish의 개념으로 Non-null 단언 연산자를 통해 해결 할 수 있다는것도 알았다. 특히 Typescript에서 DOM에 접근하거나 이벤트 객체의 target에 접근할때 이 값이 null일 수 있다는 가능성 때문에 컴파일러가 에러를 뿜어내는 현상을 많이 겪었었고 Nullish의 개념을 몰랐을때는 일일히 새로운 변수를 만들어주어 as를 통해 타입단언을 하는 쓸데없는 코드가 많이 발생하였다... 근데 Non-null 단언 연산자를 사용하니 내가 원하는대로 코드를 작성할 수 있었다. 물론 타입 단언은 정말 확실한곳에서 사용해야할것같다는 느낌도 받았다. 어쩌면 타입단언을 너무 남발하다 Typescript의 엄격한 타입에 대한 이점을 얻지 못할 수도 있을것 같다.

### 타입 가드

오늘 느낀점은 확실히 타입스크립트를 잘 모르고쓰면 아주 가독성이 안좋은 코드가 나올 수 밖에 없겠구나라고 느꼇다. 타입가드를 쓰는 이유도 만약 Union타입같이 여러가지 값이 들어올 수 있는 변수에 대한 방지를 보다 가독성 좋게 하기위함이라는 생각이 든다. 원래는 변수에 어떤값이 들어올지 모를때 일일히 타입단언을 사용을 했었고 이는 정말 좋지않은 가독성을 보여주었다. 그래서 타입가드를 사용하는데 타입가드는 특정 스코프 단위로 변수의 타입을 컴파일러에게 확정시켜주는 역할을 한다. 타입 가드 함수를 작성하고 그 함수는 검사하려는 타입을 매개변수로 받아 boolean값을 리턴하여 만약 ture값일때 쓸 타입을 함수의 반환타입을 작성하는곳에 `변수명 is 타입`으로 작성해준다. 그리고 if문으로 블록레벨 스코프를 만든뒤 그 스코프 내부에서 타입을 확정시켜주는것이다. 근데 타입 단언이나 타입 가드는 정말 개발자가 실수없이 잘 설계해야겠다는 생각이 들었다... 가독성을 올릴순 있지만 실수를 하게된다면 코드의 품질을 낮출수도 있다는 생각이 들었다.

## 내일 할 일

- Mash-up 스터디 화상면접
- 헤로피님 Typescript 포스팅 인터페이스까지 읽고 블로그에 정리
- 나만의 유튜브 강의실 미션 최소 3시간 진행하기
