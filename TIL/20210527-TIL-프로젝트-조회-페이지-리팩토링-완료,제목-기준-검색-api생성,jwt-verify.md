# 2021년 05월 27일 목요일 TIL(프로젝트 조회 페이지 리팩토링 완료, 제목 기준 검색 api생성, jwt verify)

## 오늘 한 일과 느낀점
- 프로젝트 조회 페이지의 리팩토링 작업 1차 목표치를 완성했다. 최종적으로 코드는 774줄 => 229줄로 줄어들었다. 물론 코드를 분리한것이기 때문에 실제로 전체 코드를 봤을때는 이렇게 드라마틱하게 줄어들지는 않았겠지만 중복되는 코드나 필요없는 상태들을 삭제하고 수정해줬으니 실제 코드도 많이 줄어들었을것이라고 생각한다. 사실 리팩토링의 본질적인 목적은 단순 코드 줄이기가 아닌 성능 향상 또는 추후에도 코드를 손쉽게 유지보수 할 수 있게 가독성을 증가시키는 것이기때문에 코드의 양이 준것도 기분이 좋지만 확실하게 가독성이 증가한것 같아 지금 봐도 리팩토링 전보다 코드를 수정하기 아주 수월해졌다는 생각이 들었다.

- 제목 기준으로 검색을 할 수 있는 api를 만들었다. 사실 이건 생각할것도 이슈도 없었던게 제일 간단한 검색 로직으로 쿼리문에서 LIKE절을 이용하여 검색키워드의 앞 뒤에 `%`를 붙혀주어 검색이 되게끔 구현했다.

- Update, Delete 관련된 api요청에 본인의 jwt토큰의 decode된 결과와 실제 데이터의 user_id가 동일한지 판단하는 로직을 추가하는 작업을 시작하였다. 사실 특별한 방법이 있을 줄 알았는데 기존에 써봤던 jwt.verify메서드를 이용하면 되는것이었다. 아직 프로젝트 삭제, 수정 api에만 적용 시켜놨고 꼼꼼히 나머지 요청들에도 처리를 해주면 될듯하다.

## 내일 할 일
- Update, Delete에 관한 api들에 모두 jwt토큰으로 인증하게끔 구현

- 프로젝트 마지막날로 새로 개발한 기능들 테스트하며 버그 발견 및 해결

- 프로젝트 공개, 비공개 여부에 따라 렌더링 해주는 기능에 대한 구현 고민 (위의 작업들을 끝낸 후 시간을 측정하여 결정)