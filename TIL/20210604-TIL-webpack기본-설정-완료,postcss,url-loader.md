# 2021년 06월 04일 금요일 TIL(webpack기본 설정 완료, postcss, url-loader)

## 오늘 한 일과 느낀점
- 어제 공부한 내용을 기반으로 webpack의 아주 기본적인 내용만 정리하여 블로그에 포스팅하였다. 확실히 쓰다보니 현재 webpack에 관한 지식이 오정보가 있을법도 한 수준이라 글을 엄청 술술 써 내려갈 수는 없었다. 그래도 개념적인 부분, 설정파일의 설명을 따로 분류하여 나중에 볼때도 가져다 쓸 수 있게 정리는 해놓았다.  

- 어제 배운 내용을 기반으로 지금 진행중인 지하철 노선도 프로젝트에 직접 적용을 시켜봤는데 진행도중 여러가지 이슈가 있었다. 일단 나는 webpack에 대한 공부를 현재 패스트캠퍼스 인강을 보며 진행중인데 인강에서 소개해주는 플러그인이나 패키지가 구버전이라 실행되지 않거나 사용법이 바뀐경우가 몇번 있었다. 일단 처음엔 optimize-css-assets-plugin이었다. cssnano와 함께 사용하라는 예시가 나왔었는데 직접 코드를 작성해보고 실행해보니 에러가 발생을 했다. 에러내용을 살펴보니 지금은 폐지된 플러그인이기 때문에 새로운 사용에 대한 에러를 보여주는것이었다. 하지만 배포환경에서 css파일의 크기는 줄여야하므로 다른 방법을 찾아보았고, webpack5부터는 css-minimizer-webpack-plugin을 사용해야된다는 공식문서를 찾을 수 있었다.

- webpack설정을 하다가 postcss에 대해서도 알아보게 되었다. 사실 이름만 많이 들어보고 무슨일을 하는지 아예 몰라었다. 근데 오늘 대략적으로 써보니 js파일을 호환성을 고려하여 트랜스파일링 해주는게 바벨이라면 css파일을 브라우저별로 또는 구 버전에서의 호환성을 고려하여 자동으로 해당 스타일을 추가해주는것이 postcss의 기능 중 하나였다.

- url-loader는 이름만 들어서는 뭔지 감이 잘 오지 않을것이다. 저번에 프로젝트를 진행할때 토스트 UI를 사용했고 기본적으로 파일을 붙혀넣으면 base64형식으로 인코딩되어 아주 긴 파일의 이름이 나왔다. 이때 이것이 토스트 UI의 서버에 저장되는것이라도 생각했는데 그것이 아니었다. 파일을 base64형식으로 인코딩하여 문자열 형태 그대로 가지고 있을 수 있게 해주었던것이다. 그래서 url-loader는 파일을 불러오되 설정한 인코딩 타입을 기반으로 문자열로 인코딩되어 문서에 그대로 포함이 되는것이다. 또는 데이터베이스에 문자열을 저장하고 그것을 불러와 문자열만으로 파일을 표현할 수 있게 되는것이다. 이렇게 되면 실제 서버에 요청해야하는 리소스의 갯수가 상황에 따라서는 획기적으로 줄 수 있기때문에 url-loader도 유용한 패키지라는 생각이 들었다.

## 내일 할 일
- 웹팩에서의 절대경로 사용법을 알아보고 저번 parcel처럼 동작이 제대로 되지않는지도 충분히 체크해보고 사용

- 지하철 노선도 페이지에서 필요한 라우트들을 정하고 이것들을 리프레시 없이 이동할 수 있게 해주는 Link컴포넌트 생성


